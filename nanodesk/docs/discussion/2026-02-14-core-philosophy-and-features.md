# 讨论记录：核心理念调整与功能规划

**日期**: 2026-02-14  
**主题**: Nanodesk 核心理念调整 + 实用功能盘点  
**状态**: 📝 记录待后续讨论

---

## 一、核心理念调整

### 旧定位
> 轻量框架（Ultra-Lightweight Framework）

### 新定位
> **实用个人助手（Practical Personal AI Assistant）**
> 
> **核心理念**：实用优先，轻量为辅（Practicality first, lightweight second）

### 调整原因
对比 OpenClaw（功能丰富但复杂），Nanodesk 应该：
- ✅ 功能**够用且实用**，而非追求最全
- ✅ **开箱即用**，解决日常真实问题
- ✅ 保持**代码可控**，但不为轻量而牺牲实用
- ✅ **保留梦想设计**（AI自主开发等），但不阻塞核心功能

### 核心差异对比

| 维度 | OpenClaw | Nanodesk（新定位）|
|------|----------|------------------|
| **目标** | 功能最全 | **实用+可控** |
| **安装** | npm + 复杂配置 | pip 或单文件 |
| **飞书** | 一般 | **深度优化** |
| **代码** | 黑盒（Node）| **白盒易读** |

---

## 二、功能盘点

### 现有工具

**内置（nanobot）**:
- 文件操作（读/写/编辑/列目录）
- Shell 执行
- Web 搜索（Brave，需 API Key）
- 定时任务（Cron）
- 子代理（Spawn）
- 消息发送

**Nanodesk 自定义**:
- DDG 搜索（无需 API Key）✅
- Browser 搜索/抓取（需 Playwright）⚠️

### 缺失功能（按重要性分组）

#### 🔴 高重要性（每天使用）

| 功能 | 场景 | 备注 |
|------|------|------|
| **本地知识检索** | "我之前说的 API 地址是什么？" | ⭐ 最核心需求 |
| **剪贴板操作** | 复制/粘贴文本 | 人机交互基础 |
| **截图/录屏** | 保存界面、分享问题 | 沟通必备 |
| **系统通知** | 任务完成提醒 | 后台运行必需 |
| **PDF 处理** | 阅读、提取文字 | 工作文档主流 |
| **压缩/解压** | 传输文件夹 | 文件操作标配 |

#### 🟡 中重要性（每周几次）

| 功能 | 场景 | 备注 |
|------|------|------|
| **图片处理** | 压缩、格式转换 | 分享前处理 |
| **二维码** | 生成/识别 | 移动端交互 |
| **RSS 订阅** | 新闻聚合 | 被动接收信息 |
| **HTTP 请求** | API 测试 | 开发调试 |
| **本地搜索** | 查找文件 | 比系统搜索智能 |
| **计算器** | 复杂计算、换算 | 快速计算 |

#### 🟢 低重要性（偶尔使用）

| 功能 | 场景 | 备注 |
|------|------|------|
| 天气查询 | 出门准备 | 有手机 App |
| 邮件发送 | 正式通知 | 工作场景 |
| 日历集成 | 会议提醒 | 依赖外部服务 |
| Git 操作 | 代码提交 | 开发者专属 |
| 音视频处理 | 格式转换 | 专业软件替代 |

---

## 三、核心问题识别

### 最痛的点：本地知识检索

**现状**:
```
用户: "我上周说的那个 API 地址是什么？"
Agent: ❌ 无法回答（除非手动 grep）
```

**期望**:
```
用户: "我上周说的那个 API 地址是什么？"
Agent: ✅ 自动搜索 HISTORY.md + 相关文件，给出答案
```

**重要性**: 🔴🔴🔴 最高优先级
- 使用频率：每天问"我之前..."
- 替代成本：手动翻文件极痛苦
- 用户覆盖：100% 有需求
- 差异化：OpenClaw 也没有很好的本地知识检索

**一句话描述**:
> 让 Agent 真正"记得"你说过的所有话，并能随时从你的本地文件中找到答案。

---

## 四、待讨论事项

### 下次讨论优先级

1. **🔴 本地知识检索设计**
   - 如何有效搜索 MEMORY.md + HISTORY.md？
   - 是否需要本地向量数据库？
   - 如何跨文件全文搜索？

2. **🔴 高重要性功能实现顺序**
   - 剪贴板、截图、通知、PDF、压缩，哪个先做？

3. **🟡 Browser 工具改进**
   - Playwright 安装困难如何解决？
   - 是否需要简化版（requests + BeautifulSoup）？

4. **🟢 是否放弃某些功能？**
   - 天气、邮件、日历是否交给专门 App？

---

## 五、相关文档

| 文档 | 说明 | 状态 |
|------|------|------|
| [AGENTS.md](../../../AGENTS.md) | 更新后的核心理念 | ✅ 已更新 |
| [README.md](../../../nanodesk/README.md) | 中文核心理念 | ✅ 已更新 |
| [TODO.md](../../../TODO.md) | 功能优先级排序 | ✅ 已更新 |
| [design/SEARCH_ENHANCEMENT.md](../../design/SEARCH_ENHANCEMENT.md) | 搜索增强设计 | 📝 参考 |

---

## 六、下一步行动

- [ ] 讨论本地知识检索技术方案
- [ ] 确定高重要性功能实现顺序
- [ ] 更新 CHANGELOG 记录理念调整
- [ ] 合并 develop → nanodesk（文档更新）

---

**记录人**: AI Assistant  
**下次讨论**: 待定
